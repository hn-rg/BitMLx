#lang bitml

(debug-mode)

(participant "A" "pkA")
(participant "B" "pkB")

(contract
 (pre
  (deposit "A" 20 "A_deposit_Dogecoin")
  (deposit "B" 10 "B_deposit_Dogecoin")
  (deposit "M" 10 "M_deposit_Dogecoin")
  (secret "A" StepSecret_A__L_ "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__L_ "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__L_ "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LL_ "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LL_ "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LL_ "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LRL_ "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LRL_ "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LRL_ "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LRRL_ "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LRRL_ "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LRRL_ "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LRRRL_ "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LRRRL_ "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LRRRL_ "__HASH__PLACEHOLDER__")
  (secret "A" StepSecret_A__LRRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "B" StepSecret_B__LRRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "M" StepSecret_M__LRRRLL_1 "__HASH__PLACEHOLDER__")
  (secret "A" StartSecret_A "__HASH__PLACEHOLDER__")
  (secret "B" StartSecret_B "__HASH__PLACEHOLDER__")
  (secret "M" StartSecret_M "__HASH__PLACEHOLDER__")
  )

 (choice
  (reveal (StepSecret_A__L_ StartSecret_A StartSecret_B StartSecret_M) (choice
                                                                        (auth "A" (reveal (StepSecret_A__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_B__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_M__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (after 21 (reveal () (choice
                                                                                              (reveal (StepSecret_A__LL_) (split
                                                                                                                            (20 -> (withdraw "B"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_B__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_M__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "B")))
                                                                                                                          )
                                                                                              (after 31 (reveal () (choice
                                                                                                                    (auth "B" (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (after 41 (reveal () (choice
                                                                                                                                          (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "B")))
                                                                                                                                                                       )
                                                                                                                                          (after 51 (reveal () (choice
                                                                                                                                                                (auth "A" (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (after 61 (reveal () (choice
                                                                                                                                                                                      (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "B"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "B")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (after 71 (reveal () (choice
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (after 81 (reveal () (choice
                                                                                                                                                                                                                                  (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (after 91 (reveal () (split
                                                                                                                                                                                                                                                         (10 -> (withdraw "A"))
                                                                                                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                         (10 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                  ))
                                                                                                                                                                                                             )
                                                                                                                                                                                                            ))
                                                                                                                                                                                       )
                                                                                                                                                                                      ))
                                                                                                                                                                 )
                                                                                                                                                                ))
                                                                                                                                           )
                                                                                                                                          ))
                                                                                                                     )
                                                                                                                    ))
                                                                                               )
                                                                                              ))
                                                                         )
                                                                        ))
  (reveal (StepSecret_B__L_ StartSecret_A StartSecret_B StartSecret_M) (choice
                                                                        (auth "A" (reveal (StepSecret_A__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_B__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_M__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (after 21 (reveal () (choice
                                                                                              (reveal (StepSecret_A__LL_) (split
                                                                                                                            (20 -> (withdraw "B"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_B__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_M__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "B")))
                                                                                                                          )
                                                                                              (after 31 (reveal () (choice
                                                                                                                    (auth "B" (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (after 41 (reveal () (choice
                                                                                                                                          (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "B")))
                                                                                                                                                                       )
                                                                                                                                          (after 51 (reveal () (choice
                                                                                                                                                                (auth "A" (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (after 61 (reveal () (choice
                                                                                                                                                                                      (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "B"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "B")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (after 71 (reveal () (choice
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (after 81 (reveal () (choice
                                                                                                                                                                                                                                  (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (after 91 (reveal () (split
                                                                                                                                                                                                                                                         (10 -> (withdraw "A"))
                                                                                                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                         (10 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                  ))
                                                                                                                                                                                                             )
                                                                                                                                                                                                            ))
                                                                                                                                                                                       )
                                                                                                                                                                                      ))
                                                                                                                                                                 )
                                                                                                                                                                ))
                                                                                                                                           )
                                                                                                                                          ))
                                                                                                                     )
                                                                                                                    ))
                                                                                               )
                                                                                              ))
                                                                         )
                                                                        ))
  (reveal (StepSecret_M__L_ StartSecret_A StartSecret_B StartSecret_M) (choice
                                                                        (auth "A" (reveal (StepSecret_A__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_B__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (auth "A" (reveal (StepSecret_M__LL_) (split
                                                                                                                (10 -> (withdraw "A"))
                                                                                                                (20 -> (withdraw "B"))
                                                                                                                (10 -> (withdraw "M")))
                                                                                                              )
                                                                         )
                                                                        (after 21 (reveal () (choice
                                                                                              (reveal (StepSecret_A__LL_) (split
                                                                                                                            (20 -> (withdraw "B"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_B__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "M")))
                                                                                                                          )
                                                                                              (reveal (StepSecret_M__LL_) (split
                                                                                                                            (20 -> (withdraw "A"))
                                                                                                                            (20 -> (withdraw "B")))
                                                                                                                          )
                                                                                              (after 31 (reveal () (choice
                                                                                                                    (auth "B" (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (auth "B" (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                             (20 -> (withdraw "A"))
                                                                                                                                                             (10 -> (withdraw "B"))
                                                                                                                                                             (10 -> (withdraw "M")))
                                                                                                                                                           )
                                                                                                                     )
                                                                                                                    (after 41 (reveal () (choice
                                                                                                                                          (reveal (StepSecret_A__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_B__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "M")))
                                                                                                                                                                       )
                                                                                                                                          (reveal (StepSecret_M__LRL_) (split
                                                                                                                                                                         (20 -> (withdraw "A"))
                                                                                                                                                                         (20 -> (withdraw "B")))
                                                                                                                                                                       )
                                                                                                                                          (after 51 (reveal () (choice
                                                                                                                                                                (auth "A" (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (auth "A" (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                          (4 -> (split
                                                                                                                                                                                                                  (1 -> (withdraw "A"))
                                                                                                                                                                                                                  (1 -> (withdraw "B"))
                                                                                                                                                                                                                  (2 -> (withdraw "M")))
                                                                                                                                                                                                          )
                                                                                                                                                                                                          (36 -> (choice
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (auth "M" (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                       (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                       (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                            )
                                                                                                                                                                                                           (after 71 (reveal () (choice
                                                                                                                                                                                                                                 (reveal (StepSecret_A__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_B__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (reveal (StepSecret_M__LRRLL_1) (split
                                                                                                                                                                                                                                                                   (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                 (after 81 (reveal () (split
                                                                                                                                                                                                                                                        (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                        (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                        (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                      )
                                                                                                                                                                                                                                  )
                                                                                                                                                                                                                                 ))
                                                                                                                                                                                                            )
                                                                                                                                                                                                           )))
                                                                                                                                                                                                        )
                                                                                                                                                                 )
                                                                                                                                                                (after 61 (reveal () (choice
                                                                                                                                                                                      (reveal (StepSecret_A__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "B"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_B__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "M")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (reveal (StepSecret_M__LRRL_) (split
                                                                                                                                                                                                                      (20 -> (withdraw "A"))
                                                                                                                                                                                                                      (20 -> (withdraw "B")))
                                                                                                                                                                                                                    )
                                                                                                                                                                                      (after 71 (reveal () (choice
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (auth "B" (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                       (4 -> (split
                                                                                                                                                                                                                                                               (1 -> (withdraw "A"))
                                                                                                                                                                                                                                                               (1 -> (withdraw "B"))
                                                                                                                                                                                                                                                               (2 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                                       (36 -> (choice
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (auth "M" (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                     (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                     (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        (after 91 (reveal () (choice
                                                                                                                                                                                                                                                                              (reveal (StepSecret_A__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_B__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (reveal (StepSecret_M__LRRRLL_1) (split
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                                 (18 -> (withdraw "B")))
                                                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              (after 101 (reveal () (split
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "A"))
                                                                                                                                                                                                                                                                                                      (18 -> (withdraw "B"))
                                                                                                                                                                                                                                                                                                      (9 -> (withdraw "M")))
                                                                                                                                                                                                                                                                                                    )
                                                                                                                                                                                                                                                                               )
                                                                                                                                                                                                                                                                              ))
                                                                                                                                                                                                                                                         )
                                                                                                                                                                                                                                                        )))
                                                                                                                                                                                                                                                     )
                                                                                                                                                                                                             )
                                                                                                                                                                                                            (after 81 (reveal () (choice
                                                                                                                                                                                                                                  (reveal (StepSecret_A__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_B__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "M")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (reveal (StepSecret_M__LRRRL_) (split
                                                                                                                                                                                                                                                                   (20 -> (withdraw "A"))
                                                                                                                                                                                                                                                                   (20 -> (withdraw "B")))
                                                                                                                                                                                                                                                                 )
                                                                                                                                                                                                                                  (after 91 (reveal () (split
                                                                                                                                                                                                                                                         (10 -> (withdraw "A"))
                                                                                                                                                                                                                                                         (20 -> (withdraw "B"))
                                                                                                                                                                                                                                                         (10 -> (withdraw "M")))
                                                                                                                                                                                                                                                       )
                                                                                                                                                                                                                                   )
                                                                                                                                                                                                                                  ))
                                                                                                                                                                                                             )
                                                                                                                                                                                                            ))
                                                                                                                                                                                       )
                                                                                                                                                                                      ))
                                                                                                                                                                 )
                                                                                                                                                                ))
                                                                                                                                           )
                                                                                                                                          ))
                                                                                                                     )
                                                                                                                    ))
                                                                                               )
                                                                                              ))
                                                                         )
                                                                        ))
  (after 11 (reveal () (choice
                        (reveal (StepSecret_A__L_) (split
                                                     (20 -> (withdraw "B"))
                                                     (20 -> (withdraw "M")))
                                                   )
                        (reveal (StepSecret_B__L_) (split
                                                     (20 -> (withdraw "A"))
                                                     (20 -> (withdraw "M")))
                                                   )
                        (reveal (StepSecret_M__L_) (split
                                                     (20 -> (withdraw "A"))
                                                     (20 -> (withdraw "B")))
                                                   )
                        (after 21 (reveal () (split
                                               (20 -> (withdraw "A"))
                                               (10 -> (withdraw "B"))
                                               (10 -> (withdraw "M")))
                                             )
                         )
                        ))
   )
  ))
